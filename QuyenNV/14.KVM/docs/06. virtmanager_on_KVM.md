# Tạo và quản lí máy ảo bằng Virt-manager

## 1. Kiểm tra máy có hỗ trợ ảo hóa hay không
    egrep -c "svm|vmx" /proc/cpuinfo

Nếu kết quả trả về khác 0 thì máy có hỗ trợ ảo hóa, còn bằng 0 tức là không hỗ trợ.

## 2. Cài đặt các gói cần thiết

    yum -y install qemu-kvm libvirt virt-install bridge-utils virt-manager

## 3. Truy cập Virt-manager để cấu hình VM

    virt-manager

![ảnh 35](/QuyenNV/14.KVM/images/anh35.png)

- Tạo 1 máy ảo: `File -> New Virtual Machine`

![ảnh 36](/QuyenNV/14.KVM/images/anh36.png)

- Chọn `Local install media (ISO image or CDROM)`

![ảnh 37](/QuyenNV/14.KVM/images/anh37.png)

- Chọn đường dẫn file ISO ta đã tải ở trên

![ảnh 38](/QuyenNV/14.KVM/images/anh38.png)

- Sau đó, ta cài đặt các thông số cho máy ảo

![ảnh 39](/QuyenNV/14.KVM/images/anh39.png)

![ảnh 40](/QuyenNV/14.KVM/images/anh40.png)

![ảnh 41](/QuyenNV/14.KVM/images/anh41.png)

- Kiểm tra và thiết lập lại các thông số của máy ảo và click chọn `Begin Installation`

![ảnh 42](/QuyenNV/14.KVM/images/anh42.png)

- Tiến hành cài đặt CentOS 7

![ảnh 43](/QuyenNV/14.KVM/images/anh43.png)

## 4. Một số thao tác

### 4.1 Quản lí các máy ảo đã tạo tại giao diện virt-manager

![ảnh 44](/QuyenNV/14.KVM/images/anh44.png)

### 4.2 Snapshot

Để tạo Snapshot cho VM, ta làm theo các bước sau

Chọn vào mục Manager VM Snapshot:

![ảnh 45](/QuyenNV/14.KVM/images/anh45.png)

Click chọn thêm Snapshot

![ảnh 46](/QuyenNV/14.KVM/images/anh46.png)

Điền tên cho Snapshot -> `Finish`

![ảnh 47](/QuyenNV/14.KVM/images/anh47.png)

Snapshot được tạo:

![ảnh 48](/QuyenNV/14.KVM/images/anh48.png)

### 4.3 Xem thông tin phần cứng

Click biểu tượng như trong hình

![ảnh 49](/QuyenNV/14.KVM/images/anh49.png)

Ở đây, ta có thể xem các thông số phần cứng của máy ảo

![ảnh 50](/QuyenNV/14.KVM/images/anh50.png)