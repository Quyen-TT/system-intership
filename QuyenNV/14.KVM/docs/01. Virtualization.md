# Tìm hiểu về ảo hóa 

## 1. Ảo hóa là gì?

Ảo hóa là công nghệ cho phép tạo ra các phiên bản ảo của tài nguyên vật lý như máy chủ, lưu trữ, hoặc mạng. Thay vì sử dụng trực tiếp tài nguyên vật lý, ảo hóa tạo ra các tài nguyên "ảo" để tối ưu hóa việc sử dụng phần cứng, nâng cao hiệu suất và khả năng quản lý. Công nghệ này sử dụng phần mềm mô phỏng chức năng phần cứng để tạo ra hệ thống ảo. 

Ví dụ, một máy chủ vật lý có thể được ảo hóa để vận hành nhiều máy chủ ảo, mỗi máy chủ chạy các ứng dụng và hệ điều hành khác nhau mà không cần tương tác trực tiếp với phần cứng.

![ảo hóa là gì?](/QuyenNV/14.KVM/images/ao_hoa.png)

## 2. Các loại ảo hóa

### 2.1 Ảo hóa mạng

![ảnh 1](/QuyenNV/14.KVM/images/anh1.png)

Mọi hệ thống mạng đều hoạt động dựa trên nền tảng phần cứng, bao gồm switch, router và firewall. Doanh nghiệp với nhiều chi nhánh ở các địa điểm khác nhau thường tích hợp nhiều công nghệ mạng để xây dựng hệ thống mạng nội bộ. Ảo hóa mạng là việc tập trung quản lý toàn bộ tài nguyên mạng này. Quá trình này cho phép quản trị viên cấu hình và điều khiển mạng mà không cần can thiệp trực tiếp vào thiết bị vật lý, từ đó đơn giản quá trình vận hành.

![ảnh 2](/QuyenNV/14.KVM/images/anh2.png)

Có 2 cách ảo hóa mạng chính hiện nay bao gồm:

- Mạng điều khiển bằng phần mềm (SDN): SDN kiểm soát luồng traffic bằng cách tách riêng việc quản lý định tuyến khỏi phần cứng vật lý, cho phép lập trình mạng để phân bổ ưu tiên cho các loại lưu lượng khác nhau.

- Ảo hóa chức năng mạng (NFV): NFV tích hợp chức năng của nhiều thiết bị mạng, ví dụ như firewall, load balancer và traffic analyzer vào cùng một nền tảng ảo, giúp tăng cường hiệu năng và tối ưu hóa việc sử dụng tài nguyên mạng.

### 2.2 Ảo hóa bộ nhớ

Ảo hóa bộ nhớ là tập hợp bộ nhớ vật lý từ nhiều thiết bị lưu trữ vật lý bao gồm ổ cứng, hệ thống NAS và SAN thành một pool lưu trữ tập trung. Giải pháp này mang lại khả năng quản lý thống nhất và linh hoạt cho toàn bộ hệ thống lưu trữ, bất kể nguồn gốc hay loại hình thiết bị. Người quản trị có thể dễ dàng phân bổ, giám sát và điều khiển dung lượng lưu trữ từ một phầm mềm duy nhất, giúp đơn giản hóa việc quản lý, tăng cường hiệu suất truy cập dữ liệu và tiết kiệm chi phí bảo trì.

### 2.3 Ảo hóa máy chủ

Ảo hóa máy chủ (ảo hóa server) là việc phân chia một máy chủ vật lý thành nhiều máy ảo độc lập. Phương pháp này tối ưu hóa việc sử dụng tài nguyên phần cứng, giảm chi phí đầu tư và tăng cường tính linh hoạt cho hạ tầng CNTT.

![ảnh 3](/QuyenNV/14.KVM/images/anh3.png)

Thay vì để máy chủ vật lý hoạt động dưới mức công suất, ảo hóa cho phép khai thác tối đa sức mạnh xử lý. Bằng cách sử dụng hypervisor, các máy ảo được cấp phát tài nguyên (CPU, bộ nhớ, ổ đĩa) linh hoạt và hiệu quả. Nhờ đó, một máy chủ vật lý duy nhất có thể đồng thời hỗ trợ nhiều ứng dụng và dịch vụ khác nhau mà không cần mua sắm thêm thiết bị.

### 2.4 Ảo hóa dữ liệu

Ngày nay, các doanh nghiệp thu thập thông tin từ nhiều nguồn và lưu trữ chúng dưới nhiều hình thức khác nhau như trên đám mây hoặc các datacenter nội bộ. Kỹ thuật ảo hóa dữ liệu đóng vai trò như một phần mềm trung gian để kết nối dữ liệu với các ứng dụng cần đến chúng.

![ảnh 4](/QuyenNV/14.KVM/images/anh4.png)

Cụ thể, lớp ảo hóa này tiếp nhận yêu cầu dữ liệu từ ứng dụng, sau đó xử lý và cung cấp kết quả theo đúng định dạng yêu cầu. Điều này giúp doanh nghiệp linh hoạt hơn trong việc kết nối thông tin và tạo điều kiện cho việc phân tích dữ liệu xuyên suốt các phòng ban.

### 2.5 Ảo hóa máy tính

Ảo hóa máy tính là giải pháp hữu ích cho nhiều tổ chức, đặc biệt khi nhân viên không chuyên kỹ thuật cần sử dụng nhiều hệ điều hành và ứng dụng khác nhau. Có 2 phương thức ảo hóa máy tính phổ biến là:

- Ảo hóa cơ sở hạ tầng: Máy ảo được lưu trữ và vận hành trên máy chủ trung tâm từ xa, nhân viên sẽ kết nối và sử dụng dữ liệu thông qua thiết bị khách của họ.

- Ảo hóa máy tính cục bộ: Phần mềm ảo hóa được cài đặt trực tiếp trên máy tính của nhân viên, cho phép tạo và chạy các hệ điều hành khác bên trong môi trường ảo. Việc chuyển đổi giữa hệ điều hành thật và ảo diễn ra mượt mà, tương tự như chuyển đổi giữa các ứng dụng đang mở.

![ảnh 5](/QuyenNV/14.KVM/images/anh5.png)

### 2.6 Ảo hóa ứng dụng

Ảo hóa ứng dụng là kỹ thuật tách chức năng của ứng dụng khỏi hệ điều hành gốc, cho phép ứng dụng chạy trên các hệ điều hành khác. Ví dụ, ảo hóa giúp một ứng dụng Windows có thể chạy mượt mà trên máy tính Linux mà không cần cấu hình lại hệ thống. Một số phương pháp triển khai ảo hóa ứng dụng bao gồm:

- Phát trực tuyến ứng dụng: Ứng dụng được truyền tải từ máy chủ đến thiết bị người dùng và chỉ khởi động khi được yêu cầu, giảm thiểu tài nguyên sử dụng cục bộ.

- Ảo hóa ứng dụng phía máy chủ: Người dùng truy cập vào ứng dụng thông qua trình duyệt web hoặc giao diện client mà không cần cài đặt ứng dụng trên máy tính cá nhân.

- Ảo hóa ứng dụng tại chỗ: Ứng dụng được đóng gói cùng với tất cả các thành phần cần thiết, tạo ra một môi trường độc lập, tương thích với nhiều hệ điều hành mà không cần điều chỉnh.

![ảnh 6](/QuyenNV/14.KVM/images/anh6.png)

### 3. Cách thức hoạt động của ảo hóa

#### Hypervisor: Người quản lý tài nguyên

Ảo hóa hoạt động thông qua một phần mềm gọi là Hypervisor. Hypervisor chịu trách nhiệm quản lý các máy ảo (Virtual Machines - VMs) và phân bổ tài nguyên từ máy chủ vật lý (như CPU, RAM, ổ cứng) cho các máy ảo. Có hai loại hypervisor:

- Hypervisor loại 1 (Bare-metal): Chạy trực tiếp trên phần cứng của máy chủ vật lý mà không cần hệ điều hành trung gian. Các hypervisor loại này thường được sử dụng trong môi trường doanh nghiệp lớn, vì chúng cung cấp hiệu suất cao và khả năng quản lý tài nguyên mạnh mẽ.

- Hypervisor loại 2 (Hosted): Chạy trên hệ điều hành hiện có. Loại này phổ biến trong các môi trường nhỏ hoặc cho người dùng cá nhân vì dễ triển khai và ít tốn tài nguyên.

#### Phân bổ tài nguyên

Sau khi cài đặt hypervisor, nó sẽ chia sẻ tài nguyên của máy chủ vật lý giữa các máy ảo. Mỗi máy ảo sẽ có một hệ điều hành riêng biệt và có thể chạy các ứng dụng độc lập, nhưng tất cả đều chia sẻ tài nguyên phần cứng của máy chủ vật lý. Hypervisor sẽ giám sát và phân bổ tài nguyên như CPU, RAM và dung lượng ổ cứng cho từng máy ảo một cách hợp lý, đảm bảo hiệu suất và tính ổn định.

#### Chạy nhiều hệ điều hành cùng lúc

Với công nghệ ảo hóa, một máy chủ vật lý có thể chạy nhiều hệ điều hành khác nhau đồng thời, mỗi hệ điều hành này hoạt động như một máy tính riêng biệt (máy ảo). Điều này mang lại sự linh hoạt tuyệt vời vì bạn có thể chạy các ứng dụng yêu cầu hệ điều hành khác nhau mà không cần phải mua thêm phần cứng.

#### Máy ảo (Virtual Machines)

Mỗi máy ảo có cấu hình riêng biệt, giống như một máy tính độc lập với một hệ điều hành và ứng dụng riêng. Các máy ảo có thể được cấu hình với các mức tài nguyên khác nhau, cho phép chúng hoạt động theo nhu cầu của từng ứng dụng. Các máy ảo này có thể di chuyển từ máy chủ này sang máy chủ khác mà không làm gián đoạn dịch vụ.

#### Quản lý và tối ưu tài nguyên

Hypervisor không chỉ phân bổ tài nguyên mà còn giúp tối ưu hóa việc sử dụng chúng. Ví dụ, nếu một máy ảo không sử dụng hết CPU hoặc bộ nhớ, tài nguyên này có thể được chuyển cho các máy ảo khác, giúp tăng hiệu suất tổng thể của hệ thống. Điều này giúp giảm thiểu lãng phí tài nguyên phần cứng, đồng thời duy trì hiệu suất cao cho các ứng dụng đang chạy.

#### Di chuyển và khôi phục

Một trong những tính năng mạnh mẽ của ảo hóa là khả năng di chuyển các máy ảo giữa các máy chủ vật lý mà không gặp phải gián đoạn. Quá trình này gọi là live migration, cho phép việc bảo trì máy chủ hoặc nâng cấp phần cứng mà không làm gián đoạn dịch vụ. Khi một máy chủ vật lý gặp sự cố, các máy ảo có thể được di chuyển ngay lập tức sang máy chủ khác, giảm thiểu thời gian chết và giúp duy trì hoạt động liên tục.