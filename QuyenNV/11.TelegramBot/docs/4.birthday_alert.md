# Vi·∫øt script th√¥ng b√°o sinh nh·∫≠t

## T·∫°o file d·ªØ li·ªáu sinh nh·∫≠t

    sudo nano birthdays.txt

    Quyen 24-06
    Tan 25-06
    Son 26-06
    Binh 27-06
## T·∫°o channel v·ªõi bot l√† admin

![·∫£nh 11](/QuyenNV/11.TelegramBot/images/anh11.png)

##  Vi·∫øt Script g·ª≠i th√¥ng b√°o sinh nh·∫≠t

T·∫°o file `birthday_alert.sh` v√† th√™m ƒëo·∫°n script d∆∞·ªõi ƒë√¢y v√†o file:

    #!/bin/bash

    # C·∫•u h√¨nh bot Telegram
    BOT_TOKEN="7536888003:AAGqDelQrx2ys2PeyToO5Qdvyuk_haBdoQs"
    CHANNEL_ID="-1002881100726" 

    # File ch·ª©a danh s√°ch sinh nh·∫≠t
    BIRTHDAY_FILE="/home/quyen/birthdays.txt"

    # L·∫•y ng√†y hi·ªán t·∫°i theo ƒë·ªãnh d·∫°ng dd-mm
    TODAY=$(date '+%d-%m')

    # T√¨m ng∆∞·ªùi c√≥ sinh nh·∫≠t h√¥m nay
    BIRTHDAY_PEOPLE=$(grep "$TODAY" "$BIRTHDAY_FILE")

    # N·∫øu c√≥ ng∆∞·ªùi sinh nh·∫≠t th√¨ g·ª≠i th√¥ng b√°o
    if [ -n "$BIRTHDAY_PEOPLE" ]; then
        MESSAGE="üéâ CH√öC M·ª™NG SINH NH·∫¨T üéâ\n\n"
        while IFS= read -r line; do
            NAME=$(echo "$line" | awk '{$NF=""; print $0}' | sed 's/ $//')
            MESSAGE+="üéÇ $NAME\n"
        done <<< "$BIRTHDAY_PEOPLE"

        # G·ª≠i tin nh·∫Øn ƒë·∫øn Telegram Channel
        curl -s -X POST "https://api.telegram.org/bot${BOT_TOKEN}/sendMessage" \
            -d chat_id="${CHANNEL_ID}" \
            -d text="$MESSAGE" > /dev/null
    fi

C·∫•p quy·ªÅn th·ª±c thi:

    sudo chmod +x birthday_alert.sh

## Thi·∫øt l·∫≠p crontab ƒë·ªÉ ch·∫°y m·ªói s√°ng

    crontab -e

Th√™m d√≤ng d∆∞·ªõi ƒë√¢y ƒë·ªÉ ch·∫°y script m·ªói ng√†y l√∫c 7 gi·ªù s√°ng:

    0 7 * * * /home/quyen/birthday_alert.sh

## K·∫øt qu·∫£:

![·∫£nh 12](/QuyenNV/11.TelegramBot/images/anh12.png)
